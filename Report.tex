\documentclass[a4paper,12pt]{article}
\usepackage{graphicx} % For including graphics like logos
\usepackage{lipsum}   % For dummy text
\usepackage{setspace} % For line spacing
\usepackage{fancyhdr} % For custom headers and footers
\usepackage{geometry} % For page margins
\usepackage{amsmath} % For mathematical equations
\usepackage{enumitem} % For customized lists
\usepackage{amsfonts} % For the \forall symbol
\usepackage{multicol} % For multiple columns if needed
\usepackage{amsmath} % For additional math formatting
\usepackage{enumitem} % For customizing lists

\geometry{top=1in, bottom=1in, left=1in, right=1in} % Set page margins

% Set up the header and footer using fancyhdr
% \pagestyle{fancy}
% \fancyhf{} % Clear all header and footer fields

% % Define the header
% \fancyhead[L]{
%     \small
%     Technical University of Applied Sciences Würzburg-Schweinfurt (THWS)\\
%     Faculty of Computer Science and Business Information Systems
% }

% % Adjust the header position
% \renewcommand{\headrulewidth}{0pt} % Remove the header rule line


\begin{document}
% Title Page
\begin{titlepage}
    \centering
    \vspace*{1cm}
    
    \Large \textbf{Technical University of Applied Sciences Würzburg-Schweinfurt (THWS)}\\
    \vspace{0.5cm}
    \Large Faculty of Computer Science and Business Information Systems\\
    \vspace{1cm}
    
    \huge \textbf{Master Thesis}\\
    \vspace{1.5cm}
    
    \Huge \textbf{Electric Motor Modelling via Graph Neural Networks}\\
    \vspace{2cm}
    
    \large \textbf{Submitted to the Technical University of Applied Sciences Würzburg-Schweinfurt in the Faculty of Computer Science and Business Information Systems to
    complete a course of studies in Master of Artificial Intelligence}
    
    \vspace{1cm}
    
    \huge Lilly Abraham\\
    \huge K64889\\
    \vspace{1cm}
    \large To be Submitted on: 11.12.2024\\ % replace with Submitted on
    
    \vfill
    
    \large
    Initial examiner: Prof. Dr. Magda Gregorova\\
    Secondary examiner: Prof. Gracia Herranz Mercedes\\

\end{titlepage}

\newpage % Start a new page


% Including an image on this page
\begin{figure}[h]
    \includegraphics[width=0.8\textwidth]{./ReportImages/qrcode.png} % Adjust path and filename
    \label{fig:your-image}
\end{figure}

\newpage % Start a new page

\section*{Abstract}
The aim of the Master Thesis is to train a neural network to learn the parameters of Electric Motors and thus be able to predict its Key Performance Indicators(KPIs).
The KPIs are 2D and 3D plots on Torque(Mgrenz) and Efficiency(ETA). Other KPIs can be calculated from these two KPIs.
For instance the Vibration Costs are inversely proportional to the Efficieny values predicted. 

\section*{Abstrakt}
The aim of the Master Thesis is to train a neural network to learn the parameters of Electric Motors and thus be able to predict its Key Performance Indicators(KPIs).
The KPIs are 2D and 3D plots on Torque(Mgrenz) and Efficiency(ETA). Other KPIs can be calculated from these two KPIs.
For instance the Vibration Costs are inversely proportional to the Efficieny values predicted. 

\newpage 

\newpage 

\section*{Acknowledgement}
I would like to thank my supervisor Prof. Dr. Magda Gregorova for her guidance and support throughout the course of this thesis and Valeo for providing the data.
Special thanks to Mr Daniel and Leo for sharing valuable insights of the data from a electromechanincal standpoint

\newpage

\newpage

\section*{Contents} 

\newpage

\newpage

\section*{Introduction} 
KPIs of an Electric Motor are essential to judge the performance of the motor before it is manufactured. 
Currently the KPIs are calculated by simulating the motor using an appropriate software. 
Although this works yet it is a very time consuming and expensive process as simulation is carried out in different iterations and optimized using a genetic algorithm.

\newpage 

\section*{Background} 
There has been extensive research in modeling the Electric Motor with Convolution Neural Networks(CNN) based on the images of the motor cross-section. 
However our approach is progressive in the sense that once the KPIs are predicted we would like to be able to generate the inputs and generating images is not ideal for our usecase.
Instead by generating the parameters of the motor we can be rest assured of more precise results. Hence the need to focus on the inputs as they are with their parametric description.
Literature also covers works on modelling this work as tabular data using MLPs. Although this is fairly good forseeing the impact of generating the inverse process yet MLPs cannot necessarily learn all the intricacies within motor components.
Hence the need to better represent the data typically in the form of graphs and model Graph Neural Networks to achieve the desired results. There has been close to no work of GNNs in this domain.
Although we see progress of GNNs in molecular chemistry, social networks usecases from which we draw inspiration from.

\newpage 

\section*{Dataset} 

Valeo an automotive company has supplied the dataset consisting of close to 1500 Double V Electric Motor parameters. 
There are close to 196 parameters which comprises of the geometric, physical and simulation properties of the motor.

The geometry of a whole Double V motor is as below

\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{./ReportImages/FullMotor.png} 
    \caption{EM Geometry}
    \label{fig:Full Motor}
\end{figure}

Below is the geometry of 1/8 cross-section of the same motor.

\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{./ReportImages/EMCrosssection.jpg} 
    \caption{1/8 Motor Crossection}
    \label{fig:1/8 Motor Crossection}
\end{figure}

\newpage 

For modelling the GNN, we represent the data in the form of different node and edge types.\\

\textbf{Node types}

\begin{enumerate}
    \item \textbf{General}
    
    \begin{itemize}
        \item General parameters:
        \[
        r_{i} \quad \forall i \in \{a, r, o\} 
        \]
        
        \textit{where:
        \begin{itemize}
            \item $r_{a}$: Outer Radius of the Stator
            \item $r_{r}$: Outer Radius of the Rotor
            \item $r_{o}$: Center of the EM
        \end{itemize}}
    \end{itemize}
    
    \item \textbf{Stator}
    
    \begin{itemize}
        \item Slot windings:
        \[
        s_{i}w_{j} \quad \forall i \in \{1, \dots, QSim\}, \quad \forall j \in \{1, \dots, N\} 
        \]
        
        \item Slots:
        \[
        s_{i} \quad \forall i \in \{1, \dots, QSim\} 
        \]

        \textit{where
        \begin{itemize}
            \item Qsim : Count of slots in the Stator
            \item N : Count of copper windings per slot
        \end{itemize}}
    \end{itemize}
    
    \item \textbf{Rotor}
    
    \begin{itemize}
        \item Magnet Flux Barriers:
        \[
        v_{ij} \quad \forall i \in \{1, \dots, T\}, \quad \forall j \in \{1, \dots, V\} 
        \]
        
        \item Magnets:
        \[
        v_{i}m_{j} \quad \forall i \in \{1, \dots, T\}, \quad \forall j \in \{1, \dots, V\} 
        \]
        \textit{where
        \begin{itemize}
            \item T : Topology type of the EM
            \item V : Type of Magnet
        \end{itemize}
        As Valeo only manufactures Double V magnets we consider it to be 2}
    \end{itemize}    
    
\end{enumerate}

\textbf{Edge types}

\begin{enumerate}
    \item \textbf{Angle} \\
    \[
    vm--vm = \{ (v_{i_{1}}m_{j_{1}} - v_{i_{2}}m_{j_{2}})
    \forall i_1, i_2 \in \{1, \dots, T\}, \quad \forall j_1, j_2 \in \{1, \dots, V\} \mid
    i_1 = i_2, \quad j_1 \neq j_2\}
    \]

    \textbf{angle}=vm-vm

    \item \textbf{Distance} \\
    % \[
    %     v-v = \{ (v_{i_1 j_1} - v_{i_2 j_2}), \forall i_1, i_2, j_1, j_2 \in \{1, \dots, T\} \mid i_1i_2 \neq j_1j_2 \ \land (i_1 == i_2 \lor j_1 == j_2) \}
    % \]
    \[
        vi--vi = \{ (v_{i j_1} - v_{i j_2}), \forall i \in \{1, \dots, T\}, \forall j_1, j_2 \in \{1, \dots, V\} \mid  j_1 \neq j_2 \}
    \]
    \[
        vi--vj = \{ (v_{i_1 j} - v_{i_2 j}), \forall i_1, i_2 \in \{1, \dots, T\}, \forall j \in \{1, \dots, V\} \mid  i_1 \neq i_2 \}
    \]
    \[
        v--vm = \{ (v_{i j} - v_{i}m_{j}) \forall i  \in \{1, \dots, T\}, \quad \forall j \in \{1, \dots, V\} \}
    \]
    \[
        v--rr = \{ (v_{i j} - r_{r}), \forall i, j  \in \{1, \dots, T\}\}
    \]
    \[
        o--r = \{ (o - r_{r}), (o - r_{a})\}
    \]
    \[
        rr--s = \{ (r_{r} - s_{i}), \forall i  \in \{1, \dots, QSim\}\}
    \]
    \[
        s--sw = \{ (s_{i} - s_{i}w_{j}), \forall i  \in \{1, \dots, QSim\}, \forall j  \in \{1, \dots, N\}\}
    \]
    \[
        s--ra = \{ (s_{i} - r_{a}), \forall i  \in \{1, \dots, QSim\}\}
    \]
    \[
        sw--sw = \{ (s_{i}w_{j_1} - s_{i}w_{j_2}), \forall i  \in \{1, \dots, QSim\}, \forall j  \in \{1, \dots, N\} \mid (j_1 == j_2-1)\}
    \]

    \textbf{distance} = vi--vi + vi--vj + v--vm + v--rr + o--r + rr--s + s--sw + s--ra + sw--sw

\end{enumerate}

\textbf{Node Features}

\begin{enumerate}

    \item \textbf{v} = \{lmsov, lth1v, lth2v, r1v, r11v, r2v, r3v, r4v, rmt1v, rmt4v, rlt1v, rlt4v, hav\}

    \item \textbf{vm} = \{mbv, mhv, rmagv\}

    \item \textbf{r} = \{r\}

    \item \textbf{s} = \{b\_nng, b\_nzk, b\_s, h\_n, h\_s, r\_sn, r\_zk, r\_ng, h\_zk\}

    \item \textbf{sw} = \{bhp, hhp, rhp\}
\end{enumerate}

\textbf{Edge Features}

\begin{enumerate}

    \item \textbf{vm--vm} = \{deg\_phi\}

    \item \textbf{vi--vi} = \{dsm, dsmu\}

    \item \textbf{vi--vj} = \{amtrvj-amtrvi\}

    \item \textbf{v--vm} = \{lmav, lmiv, lmov, lmuv\}

    \item \textbf{v--r} = \{amtrv, dsrv\}
    
    \item \textbf{o--r} = \{r\}

    \item \textbf{rr--s} = \{airgap\}

    \item \textbf{s--sw} = \{dhphp\}
    
    \item \textbf{sw--sw} = \{dhpng\}
    
    \item \textbf{s--ra} = \{r\_a-(r\_i + h\_n + h\_zk)\}
    
\end{enumerate}
The heterogeneous graph that was constructed earlier is as below:
\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{./ReportImages/graph.png} 
    \caption{HetGraph}
    \label{fig:Graph}
\end{figure}

\newpage 

\section*{Modelling}
We find the heterogeneous graph to be most apt for our use case with its different node and edge types. As it preserves both the structural and semantics of our data.
Heterogeneous graph Neural Networks generally work by having separate non linear functions convolve over each edge type during message computation and over each node type when aggregating the learned information.

\newpage 

\section*{Experiments and Results}

\newpage 

\section*{Conclusion}

\newpage 

\newpage 

\section*{List of Figures}

\newpage 

\newpage 

\section*{List of Tables}

\newpage 

\newpage 

\section*{Appendix}

\newpage 

\newpage 

\section*{Bibliography}

\newpage 

\newpage 

\section*{Declaration on oath}

\vspace{1cm}

\noindent I hereby certify that I have written my master thesis independently and have not yet submitted it for examination purposes elsewhere. All sources and aids used are listed, literal and meaningful quotations have been marked as such.

\vspace{3cm}
\hfill\rule{15cm}{0.4pt} % Horizontal line for the signature aligned to the right

\begin{center}
    Lilly Abraham K64889, 11.12.2024 % Placeholder for the signature and date
\end{center}

\newpage 

\section*{Consent to Plagiarism Check}

\vspace{1cm}

\noindent I hereby agree that my submitted work may be sent to PlagScan (www.plagscan.com) in digital form for the purpose of checking for plagiarism and that it may be temporarily (max. 5 years) stored in the database maintained by PlagScan as well as personal data which are part of this work may be stored there.

\vspace{0.5cm}

\noindent Consent is voluntary. Without this consent, the plagiarism check cannot be prevented by removing all personal data and protecting the copyright requirements. Consent to the storage and use of personal data may be revoked at any time by notifying the faculty.


\vspace{3cm}
\hfill\rule{15cm}{0.4pt} % Horizontal line for the signature aligned to the right

\begin{center}
    Lilly Abraham K64889, 11.12.2024 % Placeholder for the signature and date
\end{center}

\end{document}
